---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Conversión de Monedas Simples',
  description: `Como viajero frecuente, quiero una herramienta que me permita ingresar una cantidad en mi moneda local y convertirla a otra moneda, para saber cuánto tendré en el extranjero.`,
  tags: ['moneda', 'conversión', 'viaje', 'finanzas']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="amount">Cantidad en Moneda Local:</label>
          <input type="number" id="amount" class="input-field" placeholder="Ingrese la cantidad" />
        </div>
        <div class="input-group">
          <label for="currency">Selecciona la Moneda de Destino:</label>
          <select id="currency" class="input-field">
            <option value="usd">Dólar Estadounidense (USD)</option>
            <option value="eur">Euro (EUR)</option>
            <option value="gbp">Libra Esterlina (GBP)</option>
            <option value="jpy">Yen Japonés (JPY)</option>
          </select>
        </div>
        <button id="convert-btn" class="btn btn-primary">Convertir</button>
      </div>
      
      <div class="results-container">
        <div class="summary">
          <div class="summary-item" id="result">
            <h4>Monto Convertido:</h4>
            <p id="converted-amount">0</p>
          </div>
        </div>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
  const amountInput = document.getElementById('amount');
  const currencySelect = document.getElementById('currency');
  const convertButton = document.getElementById('convert-btn');
  const resultDisplay = document.getElementById('converted-amount');

  // Tasa de cambio fija para ejemplo
  const conversionRates = {
    usd: 1.1, // Suponiendo 1 unidad de moneda local = 1.1 USD
    eur: 0.9, // Suponiendo 1 unidad de moneda local = 0.9 EUR
    gbp: 0.8, // Suponiendo 1 unidad de moneda local = 0.8 GBP
    jpy: 130 // Suponiendo 1 unidad de moneda local = 130 JPY
  };

  function updateConversion() {
    const amount = parseFloat(amountInput.value) || 0;
    const selectedCurrency = currencySelect.value;
    const convertedAmount = (amount * conversionRates[selectedCurrency]).toFixed(2);
    resultDisplay.textContent = convertedAmount;
  }

  amountInput.addEventListener('input', updateConversion);
  currencySelect.addEventListener('change', updateConversion);
  convertButton.addEventListener('click', updateConversion);
</script>