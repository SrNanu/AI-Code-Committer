---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Planificador de Tareas Diarias',
  description: `Como usuario que busca mejorar su productividad, quiero una herramienta que me permita agregar, marcar y eliminar tareas diarias, para organizar mejor mi tiempo y cumplir con mis objetivos.`,
  tags: ['productividad', 'tareas', 'planificación', 'organización']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="tool-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="task-input">Nueva Tarea</label>
          <input type="text" id="task-input" class="input-field" placeholder="Escribe tu tarea aquí" />
        </div>
        <button id="add-task-btn" class="btn btn-primary">Agregar</button>
      </div>
      <div class="results-container">
        <ul id="task-list" class="results-list"></ul>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
// === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
const taskInput = document.getElementById('task-input');
const addTaskBtn = document.getElementById('add-task-btn');
const taskList = document.getElementById('task-list');

addTaskBtn.addEventListener('click', function() {
  const taskText = taskInput.value.trim();
  if (taskText) {
    addTask(taskText);
    taskInput.value = ''; // Limpiar el campo input
  }
});

function addTask(taskText) {
  const taskItem = document.createElement('li');
  taskItem.classList.add('task-list-item');

  const taskSpan = document.createElement('span');
  taskSpan.classList.add('task-text');
  taskSpan.textContent = taskText;
  
  const taskActions = document.createElement('div');
  taskActions.classList.add('task-actions');

  const completeBtn = document.createElement('button');
  completeBtn.classList.add('btn', 'btn-primary', 'btn-sm', 'complete-btn');
  completeBtn.textContent = 'Completar';
  completeBtn.addEventListener('click', function() {
    taskSpan.classList.toggle('completed'); // Cambiar el estilo para marcar como completada
  });

  const deleteBtn = document.createElement('button');
  deleteBtn.classList.add('btn', 'btn-primary', 'btn-sm', 'delete-btn');
  deleteBtn.textContent = 'Eliminar';
  deleteBtn.addEventListener('click', function() {
    taskList.removeChild(taskItem); // Eliminar la tarea de la lista
  });

  taskActions.appendChild(completeBtn);
  taskActions.appendChild(deleteBtn);
  taskItem.appendChild(taskSpan);
  taskItem.appendChild(taskActions);
  taskList.appendChild(taskItem);
}
// === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>