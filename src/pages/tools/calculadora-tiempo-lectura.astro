---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Tiempo de Lectura',
  description: `Como amante de los libros, quiero una herramienta que me permita ingresar el número de páginas de un libro y mi velocidad de lectura, para saber cuánto tiempo me tomará terminarlo.`,
  tags: ['["lectura"', '"libros"', '"productividad"', '"tiempo"]']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="pages">Número de Páginas:</label>
          <input type="number" id="pages" class="input-field" placeholder="Ingrese el número de páginas" />
        </div>
        <div class="input-group">
          <label for="speed">Velocidad de Lectura (páginas/hora):</label>
          <input type="number" id="speed" class="input-field" placeholder="Ingrese su velocidad de lectura" />
        </div>
        <button class="btn btn-primary" id="calculate-btn">Calcular</button>
      </div>
      <div class="results-container">
        <div class="summary" id="result-summary">
          <h4>Tiempo Estimado de Lectura:</h4>
          <p id="result">0 horas y 0 minutos</p>
        </div>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
  // === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
  const pagesInput = document.getElementById('pages');
  const speedInput = document.getElementById('speed');
  const resultDisplay = document.getElementById('result');
  
  function calculateReadingTime() {
    const pages = parseInt(pagesInput.value);
    const speed = parseInt(speedInput.value);

    if (!isNaN(pages) && !isNaN(speed) && speed > 0) {
      const totalHours = Math.floor(pages / speed);
      const totalMinutes = Math.round((pages % speed) / speed * 60);
      resultDisplay.textContent = `${totalHours} horas y ${totalMinutes} minutos`;
    } else {
      resultDisplay.textContent = '0 horas y 0 minutos';
    }
  }

  pagesInput.addEventListener('input', calculateReadingTime);
  speedInput.addEventListener('input', calculateReadingTime);
  // === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>