---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Espacios de Trabajo Colaborativos',
  description: `Como gerente de proyectos, quiero una herramienta que me permita calcular el espacio necesario para un equipo colaborativo, para optimizar la distribución del espacio en la oficina.`,
  tags: ['espacio', 'trabajo', 'colaboración', 'oficina']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="team-size">Número de miembros del equipo:</label>
          <input type="number" id="team-size" class="input-field" min="1" />
        </div>
        <div class="input-group">
          <label for="available-space">Espacio disponible (m²):</label>
          <input type="number" id="available-space" class="input-field" min="1" />
        </div>
        <button id="calculate-btn" class="btn btn-primary">Calcular</button>
      </div>
      
      <div class="results-container">
        <div class="summary">
          <div class="summary-item">
            <h4>Espacio por persona (m²):</h4>
            <p id="space-per-person">0</p>
          </div>
          <div class="summary-item">
            <h4>Estado del espacio:</h4>
            <p id="space-status">Insuficiente</p>
          </div>
        </div>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
// === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
document.addEventListener('DOMContentLoaded', () => {
  const teamSizeInput = document.getElementById('team-size');
  const availableSpaceInput = document.getElementById('available-space');
  const calculateBtn = document.getElementById('calculate-btn');
  const spacePerPersonDisplay = document.getElementById('space-per-person');
  const spaceStatusDisplay = document.getElementById('space-status');

  const calculateSpace = () => {
    const teamSize = parseFloat(teamSizeInput.value);
    const availableSpace = parseFloat(availableSpaceInput.value);
    
    if (!isNaN(teamSize) && !isNaN(availableSpace) && teamSize > 0) {
      const spacePerPerson = (availableSpace / teamSize).toFixed(2);
      spacePerPersonDisplay.innerText = spacePerPerson;

      spaceStatusDisplay.innerText = spacePerPerson >= 10 ? 'Suficiente' : 'Insuficiente';
    } else {
      spacePerPersonDisplay.innerText = '0';
      spaceStatusDisplay.innerText = 'Insuficiente';
    }
  };

  teamSizeInput.addEventListener('input', calculateSpace);
  availableSpaceInput.addEventListener('input', calculateSpace);
  calculateBtn.addEventListener('click', calculateSpace);
});
// === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>