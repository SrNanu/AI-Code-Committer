---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Estimación de Tiempo de Lectura',
  description: `Como estudiante, quiero calcular el tiempo estimado que me tomará leer un texto basado en su número de palabras y mi velocidad de lectura, para poder planificar mejor mis sesiones de estudio.`,
  tags: ['lectura', 'tiempo', 'estudio', 'productividad']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="word-count">Número de palabras:</label>
          <input type="number" id="word-count" class="input-field" placeholder="Ingrese el número de palabras" />
        </div>
        
        <div class="input-group">
          <label for="reading-speed">Velocidad de lectura (palabras por minuto):</label>
          <input type="number" id="reading-speed" class="input-field" placeholder="Ingrese su velocidad de lectura" />
        </div>

        <button class="btn btn-primary" id="calculate-btn">Calcular</button>
      </div>

      <div class="results-container">
        <div class="summary">
          <div class="summary-item" id="result-time">
            <h4>Tiempo estimado de lectura:</h4>
            <p id="result">0 minutos 0 segundos</p>
          </div>
        </div>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
  // === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
  const wordCountInput = document.getElementById('word-count');
  const readingSpeedInput = document.getElementById('reading-speed');
  const resultDisplay = document.getElementById('result');

  function calculateReadingTime() {
    const wordCount = parseInt(wordCountInput.value) || 0;
    const readingSpeed = parseInt(readingSpeedInput.value) || 0;

    if (wordCount > 0 && readingSpeed > 0) {
      const timeInMinutes = wordCount / readingSpeed;
      const minutes = Math.floor(timeInMinutes);
      const seconds = Math.round((timeInMinutes - minutes) * 60);
      resultDisplay.innerText = `${minutes} minuto(s) ${seconds} segundo(s)`;
    } else {
      resultDisplay.innerText = '0 minutos 0 segundos';
    }
  }

  // Eventos para calcular el tiempo en tiempo real
  wordCountInput.addEventListener('input', calculateReadingTime);
  readingSpeedInput.addEventListener('input', calculateReadingTime);
  document.getElementById('calculate-btn').addEventListener('click', calculateReadingTime);
  // === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>