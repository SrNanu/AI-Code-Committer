---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Espacio de Almacenamiento',
  description: `Como usuario que organiza su hogar, quiero calcular el espacio de almacenamiento necesario para mis objetos, para optimizar el uso de mis estanterías y armarios.`,
  tags: ['almacenamiento', 'organización', 'hogar', 'cálculo', 'espacio']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="objectCount">Cantidad de objetos:</label>
          <input type="number" id="objectCount" class="input-field" min="0" value="0" />
        </div>
        <div class="input-group">
          <label for="objectSize">Tamaño promedio de cada objeto (litros):</label>
          <input type="number" id="objectSize" class="input-field" min="0" value="0" />
        </div>
        <button id="calculateBtn" class="btn btn-primary">Calcular</button>
      </div>

      <div class="results-container">
        <div class="summary">
          <h2>Resultados</h2>
          <div id="resultDisplay" class="summary-item">
            <h4>Espacio necesario:</h4>
            <p id="totalSpace">0 litros</p>
          </div>
          <div id="spaceMessage" class="summary-item">
            <h4>Estado del espacio:</h4>
            <p id="statusMessage">Bajo</p>
          </div>
        </div>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
// === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
document.addEventListener('DOMContentLoaded', () => {
  const objectCountInput = document.getElementById("objectCount");
  const objectSizeInput = document.getElementById("objectSize");
  const resultDisplay = document.getElementById("totalSpace");
  const statusMessage = document.getElementById("statusMessage");

  const updateResults = () => {
    const objectCount = parseFloat(objectCountInput.value) || 0;
    const objectSize = parseFloat(objectSizeInput.value) || 0;
    
    const totalSpace = objectCount * objectSize;
    resultDisplay.innerText = `${totalSpace} litros`;
    
    // Estados del espacio
    if (totalSpace > 100) {
      statusMessage.innerText = 'Alto';
    } else {
      statusMessage.innerText = 'Bajo';
    }
  };

  objectCountInput.addEventListener('input', updateResults);
  objectSizeInput.addEventListener('input', updateResults);
  // Inicializar resultados al cargar
  updateResults();
});
// === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>