---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Presupuesto Personal',
  description: `Como usuario que desea gestionar mejor mis finanzas, quiero una herramienta que me permita ingresar mis ingresos y gastos mensuales, para poder visualizar mi saldo disponible y planificar mejor mis ahorros.`,
  tags: ['["finanzas"', '"presupuesto"', '"ahorro"', '"gestión"]']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <!-- === COMIENZA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="income">Ingreso Mensual:</label>
          <input type="number" id="income" class="input-field" placeholder="Ingresa tu ingreso mensual" />
        </div>
        <div class="input-group">
          <label for="expenses">Gastos Mensuales:</label>
          <input type="number" id="expenses" class="input-field" placeholder="Ingresa tus gastos mensuales" />
        </div>
        <button id="calculate-btn" class="btn btn-primary">Calcular Saldo</button>
      </div>
      <div class="results-container">
        <div class="summary">
          <h4>Resultados</h4>
          <p class="balance" id="balance">Saldo Disponible: $0</p>
        </div>
      </div>
    </div>
    <!-- === TERMINA EL CÓDIGO HTML DE LA HERRAMIENTA === -->
  </div>
</Layout>

<script>
// === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
const incomeInput = document.getElementById('income');
const expensesInput = document.getElementById('expenses');
const balanceDisplay = document.getElementById('balance');

const calculateBalance = () => {
  const income = parseFloat(incomeInput.value) || 0;
  const expenses = parseFloat(expensesInput.value) || 0;
  const balance = income - expenses;
  balanceDisplay.textContent = `Saldo Disponible: $${balance.toFixed(2)}`;
};

incomeInput.addEventListener('input', calculateBalance);
expensesInput.addEventListener('input', calculateBalance);

// === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>