---
import Layout from '../../layouts/Layout.astro';

// Metadatos de la página
export const frontmatter = {
  title: 'Calculadora de Satisfacción de Hábitos',
  description: `Como persona que busca mejorar mis hábitos, quiero una herramienta que me permita registrar mis hábitos diarios y calificar mi satisfacción con ellos, para poder identificar áreas de mejora en mi rutina.`,
  tags: ['hábitos', 'satisfacción', 'productividad', 'autoayuda']
};
---

<Layout title={frontmatter.title}>
  <a href={import.meta.env.BASE_URL} class="back-link">&larr; Volver a la Fábrica</a>
  
  <div class="tool-container">
    <h1>{frontmatter.title}</h1>
    <p>{frontmatter.description}</p>
    
    <div class="calculator-wrapper">
      <div class="form-container">
        <div class="input-group">
          <label for="habit-name">Nombre del Hábito:</label>
          <input id="habit-name" class="input-field" type="text" required />
        </div>
        <div class="input-group">
          <label for="satisfaction-rating">Calificación de Satisfacción (1-10):</label>
          <input id="satisfaction-rating" class="input-field" type="range" min="1" max="10" value="5" />
        </div>
        <button class="btn btn-primary" id="add-habit-btn">Agregar Hábito</button>
      </div>
      
      <div class="results-container">
        <ul id="habit-list" class="results-list"></ul>
      </div>
    </div>
  </div>
</Layout>

<script>
// === COMIENZA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
const habitList = document.getElementById('habit-list');
const addHabitBtn = document.getElementById('add-habit-btn');

addHabitBtn.addEventListener('click', () => {
    const habitNameInput = document.getElementById('habit-name');
    const satisfactionRatingInput = document.getElementById('satisfaction-rating');

    const habitName = habitNameInput.value;
    const satisfactionRating = satisfactionRatingInput.value;

    if (habitName) {
        const listItem = document.createElement('li');
        listItem.classList.add('task-list-item');
        listItem.innerHTML = `
            <span class="task-text">${habitName} - Calificación: ${satisfactionRating}</span>
            <div class="task-actions">
                <button class="btn btn-primary btn-sm complete-btn">Completar</button>
                <button class="btn btn-primary btn-sm delete-btn">Eliminar</button>
            </div>
        `;

        const deleteBtn = listItem.querySelector('.delete-btn');
        deleteBtn.addEventListener('click', () => {
            habitList.removeChild(listItem);
        });

        habitList.appendChild(listItem);

        // Limpiar los inputs
        habitNameInput.value = '';
        satisfactionRatingInput.value = '5'; // Resetea el slider a 5
    }
});
// === TERMINA EL CÓDIGO JAVASCRIPT DE LA HERRAMIENTA ===
</script>